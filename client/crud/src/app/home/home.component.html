<div class="container mt-5">
    <h1>CRUD System</h1>
    <div class="form-floating">
        <textarea [(ngModel)]="post" class="form-control postText" placeholder="Leave a comment here" id="floatingTextarea" rows="10"></textarea>
        <label for="floatingTextarea">Post something here...</label>
    </div>

    <div class="input-group mb-3">
        <!-- $event has list of methods -->
        <input type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" (change)="onChange($event)" multiple name="image">
        <button class="btn btn-outline-secondary" type="button" id="inputGroupFileAddon04" (click)="uploadImage()">Button</button>
    </div>

    <button (click)="addPost()" class="btn btn-primary mt-3">Post</button> &nbsp;
    <div *ngIf="Status" [style.display]="showMessage">{{Messagge.message}} ID:{{Messagge.data[0].ID}} - Post:{{Messagge.data[0].post}}
    </div>
    <div *ngIf="!Status" [style.display]="showMessage">Sorry, Something went wrong!</div>

    <div class="table-responsive mt-5">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th scope="col">Post ID</th>
                    <th scope="col">Thumbnail</th>
                    <th scope="col">Post</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let post of posts; let i = index;" [class.fadein]="i===0">
                    <td>{{post.ID}}</td>
                    <td><img [src]="'http://localhost:4400/'+ post.thumbnail" class="thumbnail"></td>
                    <td>{{post.post}}</td>
                    <td><button (click)="editPost(post.ID)" class="btn btn-success">Edit</button>&nbsp;|&nbsp;
                        <button (click)="deletePost(post.ID)" class="btn btn-danger">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>